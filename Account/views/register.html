<div ng-repeat="alert in alerts" class="msgtip"   close="closeAlert($index)" ng-show="$last"><p class="inner {{alert.type}}">{{alert.msg}}</p></div>
<div ng-controller="RegisterCtrl" class="shadow-dialog clearfix">
    <div class=" col-xs-10 col-sm-10 col-md-10  col-lg-10">
    <form ng-submit="submit()" name="form" class="form-horizontal" role="form" novalidate>
        <fieldset>
            <div class="page-header">
                <h1>
                    机汇网
                    <small>
                        <i class="icon-double-angle-right"></i>
                        会员注册
                    </small>
                    <span ng-show="alerts.length > 0">
                        <span class="orange" ng-repeat="alert in alerts">{{alert.msg}}</span>
                    </span>
                </h1>
            </div>
            <div class="form-group" ng-class="{'has-success': form.username.$valid && !usernameRegisted, 'has-error': form.username.$dirty && form.username.$invalid || usernameRegisted}">
                <label for="username" class="col-lg-2 control-label">帐户</label>
                <div class="col-lg-8">
                    <input ng-model="user.username" ng-blur="checkUser()" tooltip="用户名由4-32位数字、字母组成" name="username" ng-minlength="4" ng-maxlength="32" ng-pattern="/^[a-zA-Z0-9]{4,32}$/" type="text" class="form-control" id="username" placeholder="用户名" required>
                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.username.$valid && !usernameRegisted">&nbsp;<i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.username.$dirty && form.username.$error.required">&nbsp;请输入用户名!</p>
                    <p class="help-block error" ng-show="form.username.$dirty && form.username.$invalid">&nbsp;请检查您的用户名!</p>
                    <p class="help-block error" ng-show="usernameRegisted">&nbsp;用户名已被注册!</p>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-success': form.password.$valid, 'has-error': form.password.$dirty && form.password.$invalid}">
                <label for="password" class="col-lg-2 control-label">密码</label>
                <div class="col-lg-8">
                    <input ng-model="user.password" tooltip="密码长度为4-32位" name="password" ng-minlength="4" ng-maxlength="32" type="password" class="form-control" id="password" placeholder="密码" required>
                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.password.$valid">&nbsp;<i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.password.$dirty && form.password.$error.required">&nbsp;请输入密码!</p>
                    <p class="help-block error" ng-show="form.password.$dirty && form.password.$invalid">&nbsp;请输入正确的密码格式！</p>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-success': form.conpassword.$valid && from.password == form.confassword, 'has-error': form.conpassword.$dirty && form.conpassword.$invalid}">
                <label for="confirm-password" class="col-lg-2 control-label">确认密码</label>
                <div class="col-lg-8">
                    <input ng-model="conpassword" name="conpassword" ng-minlength="4" ng-maxlength="32" type="password" class="form-control" id="confirm-password" placeholder="再输入一次" required>

                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.conpassword.$valid">&nbsp;<i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.conpassword.$dirty && form.conpassword.$error.required">&nbsp;<i class="icon-remove"></i>请再输入一次密码</p>
                    <p class="help-block error" ng-show="form.conpassword.$dirty && form.conpassword.$invalid">&nbsp;<i class="icon-remove"></i>请输入正确的密码格式！</p>
                </div>
            </div>
            <div class="form-group" >
                <label for="confirm-password" class="col-lg-2 control-label">注册类型</label>
                <div class="col-lg-8">
                    <input type="radio" id="user_type_0" ng-model="user.type" value="00" ><label for="user_type_0">个人会员</label><input type="radio" id="user_type_1" ng-model="user.type" value="01" ><label for="user_type_1">企业会员</label><input type="radio" id="user_type_2" ng-model="user.type" value="03" ><label for="user_type_2">两者都是</label>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-success': form.enterprise.$valid, 'has-error': form.enterprise.$dirty && form.enterprise.$invalid}">
                <label for="enterprise" class="col-lg-2 control-label">公司名称</label>
                <div class="col-lg-8">
                    <input ng-model="user.name" name="enterprise" ng-minlength="4" ng-maxlength="32" type="text" class="form-control" id="enterprise" placeholder="公司名称" required>

                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.enterprise.$valid">&nbsp;<i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.enterprise.$dirty && form.enterprise.$error.required">&nbsp;<i class="icon-remove"></i>请输入公司名称</p>
                    <p class="help-block error" ng-show="form.enterprise.$dirty && form.enterprise.$invalid">&nbsp;<i class="icon-remove"></i>请输入正确的公司名称！</p>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-success': form.address.$valid, 'has-error': form.address.$dirty && form.address.$invalid}">
                <label for="address" class="col-lg-2 control-label">公司地址</label>
                <div class="col-lg-8">
                    <textarea ng-model="user.address" name="address" ng-minlength="4" ng-maxlength="32" rows="3" class="form-control" id="address" placeholder="公司地址" required>
                    </textarea>
                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.address.$valid">&nbsp;<i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.address.$dirty && form.address.$error.required">&nbsp;<i class="icon-remove"></i>请输入地址</p>
                    <p class="help-block error" ng-show="form.address.$dirty && form.address.$invalid">&nbsp;<i class="icon-remove"></i>请输入正常的地址！</p>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-success': form.email.$valid && !emailRegisted, 'has-error': form.email.$dirty && form.email.$invalid || emailRegisted}">
                <label for="email" class="col-lg-2 control-label">Email</label>
                <div class="col-lg-8">
                    <input ng-model="user.email" ng-blur="checkEmail()" name="email" ng-minlength="4" ng-maxlength="32" class="form-control" type="email" id="email" placeholder="Email" required>
                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.email.$valid && !emailRegisted">&nbsp;<i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.email.$dirty && form.email.$error.required">&nbsp;<i class="icon-remove"></i>请输入email</p>
                    <p class="help-block error" ng-show="form.email.$dirty && form.email.$invalid">&nbsp;<i class="icon-remove"></i>请输入正确的Email！</p>
                    <p class="help-block error" ng-show="emailRegisted">邮箱已被注册!</p>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-success': form.phone.$valid, 'has-error': form.phone.$dirty && form.phone.$invalid}">
                <label for="phone" class="col-lg-2 control-label">联系电话</label>
                <div class="col-lg-8">
                    <input ng-model="user.phone"  name="phone" format="phone" ng-required="requireTel"
                           ng-pattern="phoneNumberPattern"  class="form-control"  id="phone"  placeholder="0571-12345678" ng-pattern="phoneNumberPattern" required>
                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.phone.$valid "><i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.phone.$dirty && form.phone.$error.required"><i class="icon-remove"></i>请输入电话号码</p>
                    <p class="help-block error" ng-show="form.phone.$dirty && form.phone.$invalid"><i class="icon-remove"></i>输入格式有误！</p>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-success': form.cellphone.$valid && !cellphoneRegisted, 'has-error': form.cellphone.$dirty && form.cellphone.$invalid || cellphoneRegisted}">
                <label for="cellphone" class="col-lg-2 control-label">手机号码</label>
                <div class="col-lg-8">
                    <input ng-model="user.cellphone"  ng-blur="checkCellphone()" name="cellphone" ng-pattern="/^[0-9]{8,16}$/"  class="form-control" type="number" id="cellphone" placeholder="13512345678" required>
                </div>
                <div class="col-lg-2">
                    <p class="help-block" ng-show="form.cellphone.$valid && !cellphoneRegisted">&nbsp;<i class="icon-ok"></i></p>
                    <p class="help-block error" ng-show="form.cellphone.$dirty && form.cellphone.$error.required">&nbsp;<i class="icon-remove"></i>请输入手机号码</p>
                    <p class="help-block error" ng-show="form.cellphone.$dirty && form.cellphone.$invalid">&nbsp;<i class="icon-remove"></i>输入格式有误！</p>
                    <p class="help-block error" ng-show="cellphoneRegisted">&nbsp;手机号码已被注册!</p>
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-12 col-lg-offset-2">
                    <input class="btn btn-default" type="reset">
                    <input ng-disabled="form.$invalid" class="btn btn-primary" value="注册" type="submit">
                    <!--<input class="btn btn-primary" value="注册" type="submit">-->
                    <input ng-click="toLogin()" class="btn btn-primary" value="返回登录页面" type="submit">
                </div>
            </div>
        </fieldset>
    </form>
    </div>
</div>
